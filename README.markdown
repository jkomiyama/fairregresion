    Fair Regression Library 
    
      ______    _        _____                              _               _      _ _     
     |  ____|  (_)      |  __ \                            (_)             | |    (_) |    
     | |__ __ _ _ _ __  | |__) |___  __ _ _ __ ___  ___ ___ _  ___  _ __   | |     _| |__  
     |  __/ _` | | '__| |  _  // _ \/ _` | '__/ _ \/ __/ __| |/ _ \| '_ \  | |    | | '_ \ 
     | | | (_| | | |    | | \ \  __/ (_| | | |  __/\__ \__ \ | (_) | | | | | |____| | |_) |
     |_|  \__,_|_|_|    |_|  \_\___|\__, |_|  \___||___/___/_|\___/|_| |_| |______|_|_.__/ 
                                     __/ |                                                 
                                    |___/                                                  

- - -
1\. [About](#about)  
2\. [Environment](#environment)  
3\. [Quick run](#quick)  
4\. [Misc](#misc)  
- - -


<a name="about"></a>

## 1\. About
  An implementation of the ICML2018 paper [1]. This library conducts nonconvex exact optimization for a regression with fairness-related correlation constraints.
     
<a name="environment"></a>

## 2\. Environment
  This program is based on Python3 / anaconda. Additioanal requirements are:
  - sas7bdat (pip install sas7bdat): in reading the LSAC dataset
  - gurobi (http://www.gurobi.com/): in solving QCQP
  - mosek (https://www.mosek.com/): in solving SDP
  
## 3\. Datasets
  The LSAC dataset is included in our library bacause its original URL is lost (http://www2.law.ucla.edu/sander/Systemic/Data.htm).
  Type 
  
    ./download.sh
    
  to download COMPAS and C&C datasets, and decompressing the LSAC dataset. 
  For obtaining the NLSY (NLSY79) dataset, access to the NLS investigator: https://www.nlsinfo.org/investigator/pages/login.jsp .
  We included the tagset file (dataset/nlsy79/data.NLSY79) that indicates the list of features. 
  Upload it on the NLS investigator to download the coresponding file, and put the unzipped csv file to dataset/nlsy79/data.csv.
  
<a name="quick"></a>

## 3\. Quick run
  Type 
  
    cd src
    python main_single.py -d lsac | tee out/result.txt
    
  to run simulation runs. The result of the runs will be written in out/result.txt

  This package also includes a simple plot tool (simpleplot.py) that is dependent on Python/Matplotlib.
  If your environment is g++/Python ready, try
  
    ./example.sh
  
  , and two files (plot/lsac_corr[0,1]_rmse.png) that indicates the correlation between the first and second sensitive feature and RMSE (root mean squared error) are generated.

<a name="misc"></a>

## 4\. Misc
  The logo was generated by using [2].
  
## References
    [1] J. Komiyama, A. Takeda, J. Honda, and H. Shimao. Nonconvex Optimization for Regression with Fairness Constraints. ICML2018.
    [2] Text to Ascii Art Maker: http://patorjk.com/software/taag/

## Author
  Junpei Komiyama (junpei.komiyama atmark gmail.com) -- Feel free to ask me!
  
  This software is released under the MIT License, see LICENSE.txt.
